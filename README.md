# TMF Product Catalog Management API

## Overview
This server stub was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.
```
cd ~/Downloads
wget https://repo1.maven.org/maven2/org/openapitools/openapi-generator-cli/5.4.0/openapi-generator-cli-5.4.0.jar -O openapi-generator-cli.jar
java -jar openapi-generator-cli.jar generate -g spring --additional-properties artifactId=tmf-product-catalog-management-api,apiPackage=com.vodafone,hideGenerationTimestamp:true -o ~/Downloads/vodafone-productcatalogue -i TMF620-ProductCatalog-v4.1.0.swagger.json
```

Start your server as a simple java application.
```
mvn spring-boot:run
```

You can view the api documentation in swagger-ui by pointing to
http://localhost:8080/

## Accelerator deployment
```
tanzu accelerator apply -f accelerator-deployment.yaml
```
or
```
tanzu accelerator create tmf-product-catalog-management-api-java --git-repository https://github.com/tsalm-pivotal/tm-forum-java.git --git-branch main
```
## Backstage
To be able to read data from endpoints outside of the configured integrations, you now need to explicitly allow it by adding an entry to the TAP GUI configuration in the backend.reading.allow list. 
For example:
```
tap_gui:
  app_config:
    backend:
      baseUrl: #@ "https://tap-gui.{}".format(data.values.ingress.domain)
      cors:
        origin: #@ "https://tap-gui.{}".format(data.values.ingress.domain)
      reading:
        allow:
          - host: acc-server.accelerator-system.svc.cluster.local
          - host: #@ data.values.ingress.domain
```
In our use-case this is necessary for the API plugin configuration via the running application. 
